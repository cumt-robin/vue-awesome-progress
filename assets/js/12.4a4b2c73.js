(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{444:function(t,i,e){"use strict";e.r(i);e(84);var n=e(52),s=(e(433),e(80),e(378),e(55),e(117),e(118),e(434),e(436),e(437)),a=e.n(s),r=e(443),c={name:"VueAwesomeProgress",props:{startDeg:{type:Number,default:270,validator:function(t){return t>=0&&t<360}},percentage:{type:Number,default:0,validator:function(t){return t>=0&&t<=100}},circleRadius:{type:Number,default:40},circleWidth:{type:Number,default:2},circleColor:{type:String,default:"#e5e5e5"},lineWidth:{type:Number,default:8},useGradient:{type:Boolean,default:!1},lineColor:{type:String,default:"#3B77E3"},lineColorStops:{type:Array,default:function(){return[{percent:0,color:"#13CDE3"},{percent:1,color:"#3B77E3"}]}},showText:{type:Boolean,default:!0},fontSize:{type:Number,default:14},fontColor:{type:String,default:"#444"},pointRadius:{type:Number,default:6},pointColor:{type:String,default:"#3B77E3"},animated:{type:Boolean,default:!0},easing:{type:String,default:"0.42,0,1,1",validator:function(t){return/^(\-?\d+(\.\d+)?,){3}\-?\d+(\.\d+)?$/.test(t)}},duration:{type:Number,default:.6},format:{type:Function}},data:function(){return{gradient:null,easingFunc:null,animationId:null,canvasInstance:null,ctx:null}},computed:{outerRadius:function(){return this.pointRadius>0?this.circleRadius+this.pointRadius:this.circleRadius+this.lineWidth/2},canvasSize:function(){return 2*this.outerRadius+"px"},steps:function(){return 60*this.duration}},watch:{percentage:function(t,i){if(!(t>=0&&t<=100))throw new Error("进度百分比的范围必须在1~100内");window.cancelAnimationFrame(this.animationId),this.animateDrawArc(i,t,1,18)}},created:function(){this.handleResize=Object(r.a)(this.handleResize,300)},mounted:function(){var t=this.easing.split(",").map((function(t){return Number(t)}));this.easingFunc=a.a.apply(void 0,Object(n.a)(t)),this.initCanvas()},beforeDestroy:function(){window.cancelAnimationFrame(this.animationId),window.removeEventListener("resize",this.handleResize)},methods:{initCanvas:function(){var t=this;this.canvasInstance=this.$refs.canvasDemo,this.ctx=this.canvasInstance.getContext("2d"),this.useGradient&&(this.gradient=this.ctx.createLinearGradient(this.circleRadius,0,this.circleRadius,2*this.circleRadius),this.lineColorStops.forEach((function(i){t.gradient.addColorStop(i.percent,i.color)}))),this.handleDpr(),window.addEventListener("resize",this.handleResize),this.renderContent()},handleResize:function(){this.handleDpr(),this.renderContent()},handleDpr:function(){var t=Math.max(window.devicePixelRatio,1);this.canvasInstance.width=2*this.outerRadius*t,this.canvasInstance.height=2*this.outerRadius*t,this.ctx.scale(t,t)},renderContent:function(){0===this.percentage?this.animateDrawArc(0,0,0,0):this.animated?this.animateDrawArc(0,this.percentage,1,this.steps):this.animateDrawArc(0,this.percentage,this.steps,this.steps)},animateDrawArc:function(t,i,e,n){this.ctx.clearRect(0,0,this.canvasInstance.width,this.canvasInstance.height);var s,a=t+(i-t)*this.easingFunc(e/n),r=this.getTargetDegByPercentage(a),c=this.deg2Arc(this.startDeg),h=this.deg2Arc(r);(this.ctx.strokeStyle=this.circleColor,this.ctx.lineWidth=this.circleWidth,this.ctx.beginPath(),this.ctx.arc(this.outerRadius,this.outerRadius,this.circleRadius,0,this.deg2Arc(360)),this.ctx.stroke(),this.showText)&&(this.ctx.font="".concat(this.fontSize,'px Arial,"Microsoft YaHei"'),this.ctx.fillStyle=this.fontColor,this.ctx.textAlign="center",this.ctx.textBaseline="middle",s="function"==typeof this.format?this.format(a):Math.round(a)+"%",this.ctx.fillText(s,this.outerRadius,this.outerRadius));if(n>0&&(this.ctx.strokeStyle=this.useGradient?this.gradient:this.lineColor,this.ctx.lineWidth=this.lineWidth,this.ctx.lineCap="round",this.ctx.beginPath(),this.ctx.arc(this.outerRadius,this.outerRadius,this.circleRadius,c,h),this.ctx.stroke()),this.pointRadius>0){this.ctx.fillStyle=this.pointColor;var o=this.getPositionsByDeg(r);this.ctx.beginPath(),this.ctx.arc(o.x+this.pointRadius,o.y+this.pointRadius,this.pointRadius,0,this.deg2Arc(360)),this.ctx.fill()}e!==n?(e++,this.animationId=window.requestAnimationFrame(this.animateDrawArc.bind(null,t,i,e,n))):window.cancelAnimationFrame(this.animationId)},getTargetDegByPercentage:function(t){return 100===t?this.startDeg+360:(this.startDeg+360*t/100)%360},getPositionsByDeg:function(t){var i=0,e=0;return t>=0&&t<=90?(i=this.circleRadius*(1+Math.cos(this.deg2Arc(t))),e=this.circleRadius*(1+Math.sin(this.deg2Arc(t)))):t>90&&t<=180?(i=this.circleRadius*(1-Math.cos(this.deg2Arc(180-t))),e=this.circleRadius*(1+Math.sin(this.deg2Arc(180-t)))):t>180&&t<=270?(i=this.circleRadius*(1-Math.sin(this.deg2Arc(270-t))),e=this.circleRadius*(1-Math.cos(this.deg2Arc(270-t)))):(i=this.circleRadius*(1+Math.cos(this.deg2Arc(360-t))),e=this.circleRadius*(1-Math.sin(this.deg2Arc(360-t)))),{x:i,y:e}},deg2Arc:function(t){return t/180*Math.PI}}},h=e(54),o=Object(h.a)(c,(function(){var t=this.$createElement;return(this._self._c||t)("canvas",{ref:"canvasDemo",style:{width:this.canvasSize,height:this.canvasSize}})}),[],!1,null,null,null).exports;o.install=function(t){t.component(o.name,o)},"undefined"!=typeof window&&window.Vue&&window.Vue.use(o);i.default=o}}]);